
<!DOCTYPE html>
<html lang="en" data-figures="" class="page">
  <head>
<title>Deploy to Firebase Hosting Using Cloud Build, Use Cloud KMS to Encrypt tokens | Hervé Kakiang&#39;s blog</title>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.80.0" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150847968-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-150847968-1');
</script>
  
<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="In this post, we use Cloud KMS to encrypt a Firebase token, passing the encrypted token and the CryptoKey to a build request to allow Cloud build to deploy a …">
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="">
<meta name="twitter:title" content="Deploy to Firebase Hosting Using Cloud Build, Use Cloud KMS to Encrypt tokens" />
<meta property="og:url" content="https://hrv2k.github.io/post/deploy-to-firebase-hosting-using-cloud-build/" />
<meta property="og:title" content="Deploy to Firebase Hosting Using Cloud Build, Use Cloud KMS to Encrypt tokens" />
<meta property="og:description" content="In this post, we use Cloud KMS to encrypt a Firebase token, passing the encrypted token and the CryptoKey to a build request to allow Cloud build to deploy a …" />
<meta property="og:image" content="https://hrv2k.github.io/images/cloud-hosting-cbuild/2.png" />
<link rel="apple-touch-icon" sizes="180x180" href='https://hrv2k.github.io/icons/apple-touch-icon.png'>
<link rel="icon" type="image/png" href='https://hrv2k.github.io/icons/favicon.ico'>
<link rel="manifest" href='https://hrv2k.github.io/icons/site.webmanifest'>
<link rel="mask-icon" href='https://hrv2k.github.io/safari-pinned-tab.svg' color="#002538">
<meta name="msapplication-TileColor" content="#002538">
<meta name="theme-color" content="#002538">

<link rel="canonical" href="https://hrv2k.github.io/post/deploy-to-firebase-hosting-using-cloud-build/">

    

    
    
    <link rel="preload" href="https://hrv2k.github.io/css/styles.2c7a039ca654e98a4bbcdc27affbbd5d2c4756ba1937c909596644883e6c740f86855853713082a9b45ce91a88c6cf2b4cbacb1754b8bf9cb7c279d69e3c4d0f.css" integrity = "sha512-LHoDnKZU6YpLvNwnr/u9XSxHVroZN8kJWWZEiD5sdA&#43;GhVhTcTCCqbRc6RqIxs8rTLrLF1S4v5y3wnnWnjxNDw==" as="style" crossorigin="anonymous">
    <link rel="preload" href="https://hrv2k.github.io/js/bundle.min.cee36fbca464500550f3fdcee62b033060ebedabbfffa7f2961d06529ac3ffcf3c8d107e04af65ae030ed0918354da56a88baeabce9d950f354680c9fb346dde.js" as="script" integrity=
    "sha512-zuNvvKRkUAVQ8/3O5isDMGDr7au//6fylh0GUprD/888jRB&#43;BK9lrgMO0JGDVNpWqIuuq86dlQ81RoDJ&#43;zRt3g==" crossorigin="anonymous">

    
    <link rel="stylesheet" type="text/css" href="https://hrv2k.github.io/css/styles.2c7a039ca654e98a4bbcdc27affbbd5d2c4756ba1937c909596644883e6c740f86855853713082a9b45ce91a88c6cf2b4cbacb1754b8bf9cb7c279d69e3c4d0f.css" integrity="sha512-LHoDnKZU6YpLvNwnr/u9XSxHVroZN8kJWWZEiD5sdA&#43;GhVhTcTCCqbRc6RqIxs8rTLrLF1S4v5y3wnnWnjxNDw==" crossorigin="anonymous">
    
  </head>
  
  
    
  
  <body data-code="7" data-lines="false" id="documentTop">

<header class="nav_header" >
  <nav class="nav">
    <a href='https://hrv2k.github.io/' class="nav_brand nav_item">
      <img src="https://hrv2k.github.io/logos/logo.png" class="logo">
      <div class="nav_close">
        <div>
          <svg class="icon">
  <use xlink:href="#open-menu"></use>
</svg>
          <svg class="icon">
  <use xlink:href="#closeme"></use>
</svg>
        </div>
      </div>
    </a>
    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://hrv2k.github.io/" class="nav_item">Home </a>
  </div>
      
      <div class="nav_parent">
        <a href="#" class="nav_item"></a>
        <div class="nav_sub">
          <span class="nav_child"></span>
          
          <a href="https://hrv2k.github.io/" class="nav_child nav_item">English</a>
          
          <a href="https://hrv2k.github.io/fr/" class="nav_child nav_item">French</a>
          
        </div>
      </div>
      
<div class='follow'>
  <a href="https://github.com/herve2k">
    <svg class="icon">
  <use xlink:href="#github"></use>
</svg>
  </a>
  <a href="https://twitter.com/#">
    <svg class="icon">
  <use xlink:href="#twitter"></use>
</svg>
  </a>
  <a href="https://www.linkedin.com/in/kakiang">
    <svg class="icon">
  <use xlink:href="#linkedin"></use>
</svg>
  </a>
    
  <a href="https://hrv2k.github.io/index.xml">
    <svg class="icon">
  <use xlink:href="#rss"></use>
</svg>
  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">Deploy to Firebase Hosting Using Cloud Build, Use Cloud KMS to Encrypt tokens</h1><div class="post_meta">
  
    <svg class="icon">
  <use xlink:href="#calendar"></use>
</svg>
    <span class="post_date">
      Jan 31, 2020</span>
      <a href='https://hrv2k.github.io/tags/cloud-computing' class="post_tag button button_translucent">Cloud Computing
      </a>
      <a href='https://hrv2k.github.io/tags/gcp' class="post_tag button button_translucent">GCP
      </a>
      <a href='https://hrv2k.github.io/tags/cloud-functions' class="post_tag button button_translucent">Cloud Functions
      </a>
      <a href='https://hrv2k.github.io/tags/cloud-build' class="post_tag button button_translucent">Cloud Build
      </a>
      <a href='https://hrv2k.github.io/tags/cloud-kms' class="post_tag button button_translucent">Cloud KMS
      </a>
      <a href='https://hrv2k.github.io/tags/encryption' class="post_tag button button_translucent">Encryption
      </a>
</div>

    
  <div class="post_share">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=Deploy%20to%20Firebase%20Hosting%20Using%20Cloud%20Build%2c%20Use%20Cloud%20KMS%20to%20Encrypt%20tokens&url=https%3a%2f%2fhrv2k.github.io%2fpost%2fdeploy-to-firebase-hosting-using-cloud-build%2f&tw_p=tweetbutton" class="twitter" title="Share on Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <use xlink:href="#twitter"></use>
</svg>
    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fhrv2k.github.io%2fpost%2fdeploy-to-firebase-hosting-using-cloud-build%2f&t=Deploy%20to%20Firebase%20Hosting%20Using%20Cloud%20Build%2c%20Use%20Cloud%20KMS%20to%20Encrypt%20tokens" class="facebook" title="Share on Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <use xlink:href="#facebook"></use>
</svg>
    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="Share on LinkedIn" rel="nofollow">
      <svg class="icon">
  <use xlink:href="#linkedin"></use>
</svg>
    </a>
    <a href="https://hrv2k.github.io/post/deploy-to-firebase-hosting-using-cloud-build/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <use xlink:href="#copy"></use>
</svg>
    </a>
  </div>

    
    <p><a href="https://firebase.google.com/docs/hosting">Firebase Hosting</a> is Google
hosting service for Web and mobile Web apps. Using the
<a href="https://firebase.google.com/docs/cli">Firebase CLI</a>, you can deploy files
from local directories on your computer to your Hosting server.
Deploying to Firebase Hosting using Google Cloud Build will allow you to
automate all the build, test and deployment phases.
And when it comes to continuous integration/deployment systems, it is
often the case that you have to provide sensitive information such as
authorization tokens, deploy api keys or other resources to the CI/CD
tool or service. However it's never a good practice to store them in
plaintext in config or source code files. They should be encrypted and
stored where they will not be compromised. That's when
<a href="https://cloud.google.com/kms">Cloud Key Management Service (KMS)</a> comes in.</p>
<blockquote>
<p><a href="https://cloud.google.com/kms">Cloud KMS</a> is a cloud-hosted key management
service that lets you manage cryptographic keys for your cloud services.
You can generate, use, rotate, and destroy cryptographic keys.</p>
</blockquote>
<p>Essentially, Cloud KMS is a cloud service that provides cryptographic
functions that encrypt and decrypt sensitive information.
Cloud KMS allows you to protect secrets and other sensitive data that
you store on the GCP. Because Cloud KMS is integrated with
<a href="https://cloud.google.com/kms/docs/iam">Cloud Identity and Access Management (IAM)</a>
and <a href="https://cloud.google.com/logging/docs/audit/">Cloud Audit Logging</a>,
you can manage permissions on individual cryptographic keys and monitor
activities involving your keys. Only users who have the necessary IAM
permissions to use the CryptoKey can encrypt or decrypt resources with
that key. Cloud IAM gives you the ability to assigned fined-grained
permissions to specific users or service accounts to perform specific
tasks on specific resources.
Cloud Audit Logging tells you who did what, where, and when within your
GCP project.</p>
<p>Cryptographic keys managed by Cloud KMS can be directly used by other GCP
services and by the applications you deploy on the GCP.</p>
<p>In this post we shall take a look at using Cloud KMS to encrypt Firebase
deployment token, passing the encrypted token and the CryptoKey to a build
request to allow Cloud build to deploy an app to Firebase Hosting.</p>
<h1 id="what-you-should-know-before-getting-hands-on">What you should know before getting hands-on</h1>
<h2 id="1-cloud-kms">1. Cloud KMS</h2>
<p>Cloud KMS organizes cryptographic keys in a hierarchical structure, and uses
Cloud IAM to manage access to resources at each level of the hierarchy.</p>
<p><strong><a href="https://cloud.google.com/kms/docs/object-hierarchy#project">Project</a> &gt;
<a href="https://cloud.google.com/kms/docs/object-hierarchy#location">Location</a> &gt;
<a href="https://cloud.google.com/kms/docs/object-hierarchy#key_ring">Key ring</a> &gt;
<a href="https://cloud.google.com/kms/docs/object-hierarchy#key">Key</a> &gt;
<a href="https://cloud.google.com/kms/docs/object-hierarchy#key_version">Key version</a></strong></p>
<p>Like any other GCP resource, Cloud KMS resources belong to a GCP project.</p>
<p>In a project, Cloud KMS resources are created in a regional,
or multi-regional location. The location determines where the resources
are stored and where requests regarding those resources are processed.
Specifically, there are four types of
<a href="https://cloud.google.com/kms/docs/locations">locations</a> where you can
create Cloud KMS resources: regional, dual-regional, multi-regional and global.
Resources created in the <code>global</code> location are available from zones spread
around the globe.</p>
<p><strong>Key ring</strong> is a logical grouping of cryptographic keys, It's a group of
keys created for a particular purpose. How you group your keys is
completely up to you. Keys inherit permissions from the key ring that
contains them. This allows you to manage permissions on keys at the key
ring level. For instance you can have one key ring for each one of your
environments, production key ring and development key ring.</p>
<p><img src="/images/cloud-hosting-cbuild/keyring.png" alt="Key ring (https://cloud.google.com/kms/docs/object-hierarchy#key)"></p>
<p>A <strong>key</strong> in the GCP, is a named object that represents a cryptographic
key used for a specific purpose.</p>
<p>A <strong>key version</strong> represents the key material, the actual bits used for
encryption. A key must have at least one key version. It can have many
key versions at the same time.</p>
<p>Key rings and keys, once created in a project cannot be deleted. Key
versions, however, can be destroyed.</p>
<h2 id="2-cloud-build">2. Cloud Build</h2>
<p>Cloud Build is a CI/CD service on the GCP. It's used to build, test and
deploy artifacts to various environments. It does so by using docker
containers to execute different sort of tasks specified in the build
configuration file. Check out
<a href="https://cloud.google.com/cloud-build/docs">this page</a> and
<a href="https://cloud.google.com/cloud-build/docs/configuring-builds/build-test-deploy-artifacts">this one</a>
if you are not familiar with Cloud Build and want to learn more about it.
My <a href="/posts/getting-started-with-cloud-build/">Getting Started with Cloud Build post</a>
can also get you up to speed.</p>
<p>Going forward, I'll assume that you know how Cloud Build works.</p>
<h1 id="gcp-setup">GCP Setup</h1>
<p>Before you begin, complete the following steps:</p>
<ul>
<li>
<p><a href="https://accounts.google.com/Login">Sign in</a> to your Google Account.
If you don't already have one,
<a href="https://accounts.google.com/SignUp">sign up for a new account</a>.</p>
</li>
<li>
<p>In the Cloud Console, on the
<a href="https://console.cloud.google.com/projectselector2/home/dashboard">project selector page</a>,
select or create a Google Cloud project.</p>
</li>
<li>
<p>Make sure that billing is enabled for your Google Cloud project.
<a href="https://cloud.google.com/billing/docs/how-to/modify-project">Learn how to confirm billing is enabled for your project</a>
You are required to enable billing to use the GCP services that are used
here, however none of them will cost you money if you haven't used up the
<a href="https://cloud.google.com/free">free tier</a>.</p>
</li>
<li>
<p>The gcloud SDK</p>
<ol>
<li>
<p>You can use Google Cloud Shell to follow along. Cloud Shell is
loaded with development tools, including the gcloud SDK which provides
command-line access to GCP resources. Navigate to
<a href="https://console.cloud.google.com/">GCP Console</a>, on the top right
toolbar, click the Cloud Shell button to activate it.
You don't need to install anything if you are using Google Cloud Shell,
the next step from here is to
<a href="#initialize-your-firebase-project">initialize your Firebase project</a>.</p>
</li>
<li>
<p>Or you can use the <a href="https://cloud.google.com/sdk/docs/">gcloud SDK</a>
on your personal computer. Follow
<a href="https://cloud.google.com/sdk/docs/downloads-interactive">this  link</a>,
select the correct SDK for your OS and install it. Once it is installed,
open the command line to initialize your cloud environment by typing the
command below, and follow the instructions to log in to GCP.</p>
</li>
</ol>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud init</code></pre></div>
<p>Test that gcloud CLI tool is properly logged in to GCP by checking the
active account. Run the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud auth list</code></pre></div>
<h1 id="install-firebase-cli">Install Firebase CLI</h1>
<p>Follow the instructions set
<a href="https://firebase.google.com/docs/cli#install_the_firebase_cli">here</a>
to install Firebase CLI.
After installing the CLI, you must authenticate by signing into Firebase
using your Google account. Run the following command to sign in:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>firebase login</code></pre></div>
<p>When you are properly signed into Firebase, your local machine is
connected to Firebase and you can access your Firebase projects by running
the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>firebase projects:list</code></pre></div>
<h1 id="initialize-your-firebase-project">Initialize your Firebase project</h1>
<p>Create a directory named <code>firebase-hosting-cb</code> for your Firebase project,
then change directory into it:</p>
<p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>mkdir firebase-hosting-cb</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span><span class="nb">cd</span> firebase-hosting-cb</code></pre></div></p>
<p>Follow the instructions set
<a href="https://firebase.google.com/docs/cli#initialize_a_firebase_project">here</a>
to initialize a Firebase project. Select <code>Hosting</code> as the Firebase feature
you want to set up for your Firebase project. Choose to use an existing
project, then select the project you want to associate with your project.</p>
<p><img src="/images/cloud-hosting-cbuild/out.gif" alt="firebase init"></p>
<p>Once the Firebase initialization completes, an <code>index.html</code> file is
created inside of a directory named <code>public</code> if you didn't change the
default settings during the initialization. Update the <code>index.html</code> file
to your satisfaction.</p>
<p>Let's initialize git as well:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>git init</code></pre></div>
<p>Run the command below to test your project locally</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>firebase serve</code></pre></div>
<h1 id="deploy-to-firebase-hosting-manually">Deploy to Firebase Hosting (manually)</h1>
<p>To deploy a release of your project to Firebase Hosting, run the
following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>firebase deploy -m <span class="s2">&#34;First deployment&#34;</span></code></pre></div>
<p>You'll see an output similar to this.  Notice that <code>your-project-id</code> will
be replaced by your actual project ID.</p>
<p><div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="ln"> 1</span><span class="o">===</span> Deploying to <span class="s1">&#39;your-project-id&#39;</span>...
<span class="ln"> 2</span>
<span class="ln"> 3</span>i  deploying hosting
<span class="ln"> 4</span>i  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: beginning deploy...
<span class="ln"> 5</span>i  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: found <span class="m">3</span> files in public
<span class="ln"> 6</span>✔  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: file upload <span class="nb">complete</span>
<span class="ln"> 7</span>i  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: finalizing version...
<span class="ln"> 8</span>✔  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: version finalized
<span class="ln"> 9</span>i  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: releasing new version...
<span class="ln">10</span>✔  hosting<span class="o">[</span>your-project-id<span class="o">]</span>: release <span class="nb">complete</span>
<span class="ln">11</span>
<span class="ln">12</span>✔  Deploy complete!
<span class="ln">13</span>
<span class="ln">14</span>Project Console: https://console.firebase.google.com/project/your-project-id/overview
<span class="ln">15</span>Hosting URL: https://your-project-id.firebaseapp.com</code></pre></div>
At this point you can access your site at the Hosting URL.</p>
<p><strong>NB</strong>: If you already have one Firebase Hosting site in your Firebase
project, you have to specify your site in <code>firebase.json</code>. Add your site
name to the <code>firebase.json</code> configuration file.
Or else the new deployment will override the existing site.</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="ln">1</span><span class="p">{</span>
<span class="ln">2</span>  <span class="nt">&#34;hosting&#34;</span><span class="p">:</span> <span class="p">{</span>
<span class="ln">3</span>    <span class="nt">&#34;site&#34;</span><span class="p">:</span> <span class="s2">&#34;your-site-name&#34;</span><span class="p">,</span>
<span class="ln">4</span>    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="s2">&#34;public&#34;</span><span class="p">,</span>
<span class="ln">5</span>    <span class="err">...</span>
<span class="ln">6</span>  <span class="p">}</span>
<span class="ln">7</span><span class="p">}</span></code></pre></div>
<p>Then, run this command from your app's root directory to deploy your site:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>firebase deploy --only hosting:your-site-name</code></pre></div>
<p>Going forward, I'll assume that you have one site in your
Firebase project.</p>
<p>You just manually deployed your app to Firebase Hosting. You'll have to
check your code to a source repository also separately. Let's
automate the process with Cloud Build.</p>
<h1 id="deploy-to-firebase-hosting-cloud-build">Deploy to Firebase Hosting (cloud build)</h1>
<h2 id="firebase-token">Firebase token</h2>
<p>When you deployed to Firebase Hosting with <code>firebase deploy</code>, it worked
because your local machine is connected to Firebase. But if you want to
deploy using another platform other than your local machine where you are
signed into Firebase, such as Cloud Build, Travis CI or CircleCI, you
have provide that platform a token and use the <code>--token</code> flag of the Firebase CLI.
To get the token, run the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>firebase login:ci</code></pre></div>
<p>You'll be instructed to log in using the browser. After a succesful login,
the token will be printed to the console.</p>
<h2 id="encrypt-firebase-token-using-cloud-kms">Encrypt Firebase token using Cloud KMS</h2>
<p>You have the token, it's sensitive information. Anyone who has access to
that token can delete your app and redeploy whatever they want. So you
have to keep it secret, and at the same time you need to pass it to Cloud
Build. That's where Cloud KMS comes into play.</p>
<p>Before you can encrypt your token using Cloud KMS, you have to create a
Cloud KMS KeyRing and CryptoKey.</p>
<p>Initialize some environment variables
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span><span class="nv">KEYRING_NAME</span><span class="o">=</span>cicd-keyring</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span><span class="nv">KEY_NAME</span><span class="o">=</span>firebase-token</code></pre></div></p>
<p>Initialize an environment variable <code>FIREBASE_TOKEN</code> with your token value.
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span><span class="nv">FIREBASE_TOKEN</span><span class="o">=</span>YOUR_GENERATED_TOKEN</code></pre></div></p>
<p>Run the following command to create a KeyRing:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud kms keyrings create <span class="nv">$KEYRING_NAME</span> --location global</code></pre></div>
<p>Run the following command to create a CryptoKey:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud kms keys create <span class="nv">$KEY_NAME</span> --location<span class="o">=</span>global <span class="se">\
</span><span class="ln">2</span><span class="se"></span>   --keyring<span class="o">=</span><span class="nv">$KEYRING_NAME</span> --purpose<span class="o">=</span>encryption</code></pre></div>
<p>The CryptoKey is created.</p>
<p><img src="/images/cloud-hosting-cbuild/key-created.png" alt="crypto-created"></p>
<p>You can now use the CryptoKey to encrypt your
Firebase token. Remember that your Firebase token is in <code>$FIREBASE_TOKEN</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud kms encrypt --plaintext-file<span class="o">=</span><span class="nv">$FIREBASE_TOKEN</span>
<span class="ln">2</span>   --ciphertext-file<span class="o">=</span>- <span class="se">\ </span><span class="c1"># - writes to stdout</span>
<span class="ln">3</span>   --location<span class="o">=</span>global --keyring<span class="o">=</span><span class="nv">$KEYRING_NAME</span> <span class="se">\
</span><span class="ln">4</span><span class="se"></span>   --key<span class="o">=</span><span class="nv">$KEY_NAME</span> <span class="p">|</span> base64</code></pre></div>
<p>With this command, you encrypt the value of the environment variable
<code>$FIREBASE_TOKEN</code> using the CryptoKey, and base64-encoded the encrypted
value. The output is the base64-encoded string of the encrypted token.</p>
<h2 id="cloud-build-config">Cloud Build config</h2>
<p>Now, let's write the build steps for Cloud Build. Probably what makes
Cloud Build so cool is its flexibility. You can do anything with it as
long as you package what you want to do in a docker image. In our case,
we need to have a Firebase build step whereby we use the firebase-tools
to deploy our app. We could create the docker image to containerize
firebase-tools, push the containerized image to Container Registry and
use it to deploy our app. Details regarding that process can be found
<a href="https://cloud.google.com/cloud-build/docs/configuring-builds/build-test-deploy-artifacts">here</a>.
However we will use <a href="https://github.com/GoogleCloudPlatform/cloud-builders-community/tree/master/firebase">this docker image</a>.
Clone the <a href="https://github.com/GoogleCloudPlatform/cloud-builders-community.git">cloud-builders-community repo</a>
move the <code>firebase</code> folder to your app's root directory. you can delete the
repo from your computer. Or at least make it is not in your app directory.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span><span class="nb">cd</span> firebase-hosting-cb</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>git clone https://github.com/GoogleCloudPlatform/cloud-builders-community.git</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span><span class="nb">cd</span> cloud-builders-community</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>mv firebase ../ <span class="o">&amp;&amp;</span> <span class="nb">cd</span> ../</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>rm -rf cloud-builders-community/</code></pre></div>
<p>Create the <code>cloudbuild.yaml</code> file and paste in the following contents.
Make sure to replace <code>your-project-id</code> with your actual project ID and
<code>YOUR_ENCRYPTED_TOKEN</code> with the actual value.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">steps</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;gcr.io/cloud-builders/docker&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;build&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;-t&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;gcr.io/$PROJECT_ID/firebase&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;.&#34;</span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">dir</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;firebase&#34;</span><span class="w">
</span><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;gcr.io/$PROJECT_ID/firebase&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;deploy&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;--project&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;$PROJECT_ID&#34;</span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">secretEnv</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;FIREBASE_TOKEN&#34;</span><span class="p">]</span><span class="w">
</span><span class="w"></span><span class="nt">secrets</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">kmsKeyName</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;projects/your-project-id/locations/global/keyRings/cicd-keyring/cryptoKeys/firebase-token&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">secretEnv</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">FIREBASE_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;YOUR_ENCRYPTED_TOKEN&#39;</span><span class="w">
</span><span class="w"></span><span class="nt">images</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;gcr.io/$PROJECT_ID/firebase&#34;</span><span class="p">]</span></code></pre></td></tr></table>
</div>
</div>
<p>You have to grant the Cloud Build service account the CryptoKeyDecrypter
role</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud kms keys add-iam-policy-binding <span class="se">\
</span><span class="ln">2</span><span class="se"></span>   <span class="nv">$KEY_NAME</span> --location<span class="o">=</span>global --keyring<span class="o">=</span><span class="nv">$KEYRING_NAME</span> <span class="se">\
</span><span class="ln">3</span><span class="se"></span>   --member<span class="o">=</span>serviceAccount:PROJECT_NUMBER@cloudbuild.gserviceaccount.com <span class="se">\
</span><span class="ln">4</span><span class="se"></span>   --role<span class="o">=</span>roles/cloudkms.cryptoKeyDecrypter</code></pre></div>
<p>Replace <code>PROJECT_NUMBER</code> by your actual projectNumber. You can use this
command <code>gcloud  projects describe your-project-id</code> to find your project number.</p>
<h2 id="enable-apis">Enable APIs</h2>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="ln">1</span>gcloud services <span class="nb">enable</span> cloudbuild.googleapis.com <span class="se">\
</span><span class="ln">2</span><span class="se"></span>   containerregistry.googleapis.com cloudkms.googleapis.com <span class="se">\
</span><span class="ln">3</span><span class="se"></span>   firebase.googleapis.com cloudresourcemanager.googleapis.com <span class="se">\
</span><span class="ln">4</span><span class="se"></span>   firebasehosting.googleapis.com</code></pre></div>
<h2 id="deploy">Deploy</h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="ln">1</span>gcloud builds submit --config<span class="o">=</span>cloudbuild.yaml .</code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="ln">1</span>rm -rf cloud-builders-community/</code></pre></div>
<p>If you are interested in checking your code to GitHub and deploy to Firebase
Hosting from there, check my <a href="/posts/integrate-github-with-cloud-build-deploy-to-cloud-run/">post on integrating GitHub with Cloud Build</a>.
It details how to step by step how to integrate GitHub and Cloud Build, and
how to trigger a deployment upon a push to your GitHub repo. Although in
that post, we deploy to Cloud Run, the process is exactly the same as far
as Cloud Build and GitHub are concerned. What is different is the steps
in the <code>cloudbuild.yaml</code> file. We've already configured <code>cloudbuild.yaml</code>
to deploy to Firebase Hosting.</p>
<p>The source code for this post, including the <code>cloudbuild.yaml</code> file is available
<a href="https://github.com/kakiang/firebase-hosting-cb">here</a>.</p>
<p>Thanks for reading 🙌. À la prochaine.</p>

    
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hervekakiangblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    
      <h2>Hervé Kakiang</h2>
      <div>
        Technologist, perpetual student, continual incremental improvement.
      </div>
      <a href='https://hrv2k.github.io/about/' class="button mt-1" role="button">Read More</a>
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://hrv2k.github.io/post/ibm-cloud-free-tier/" class="nav-link">IBM Cloud Offerings with no expiration and no credit card required</a>
      </li>
      <li>
        <a href="https://hrv2k.github.io/post/deploy-a-flask-mysql-app-to-gce-using-deployment-manager/" class="nav-link">Deploy a Flask &#43; MySQL App to GCE Using Deployment Manager</a>
      </li>
      <li>
        <a href="https://hrv2k.github.io/post/migrate-your-mysql-database-to-google-cloud-sql-over-ssl-tls-encrypted-connection-with-minimal-downtime/" class="nav-link">Migrate Your MySQL Database to Google Cloud SQL over SSL/TLS Encrypted Connections With Minimal Downtime</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://hrv2k.github.io/categories/cloud/' class="post_tag button button_translucent">
          CLOUD
          <span class="button_tally">1</span>
        </a>
        
        
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://hrv2k.github.io/tags/gcp/' class="post_tag button button_translucent">
          GCP
          <span class="button_tally">10</span>
        </a>
        
        <a href='https://hrv2k.github.io/tags/cloud-computing/' class="post_tag button button_translucent">
          CLOUD-COMPUTING
          <span class="button_tally">9</span>
        </a>
        
        <a href='https://hrv2k.github.io/tags/cloud-build/' class="post_tag button button_translucent">
          CLOUD-BUILD
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://hrv2k.github.io/tags/cloud-run/' class="post_tag button button_translucent">
          CLOUD-RUN
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://hrv2k.github.io/tags/cloud-functions/' class="post_tag button button_translucent">
          CLOUD-FUNCTIONS
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://hrv2k.github.io/tags/cloud-scheduler/' class="post_tag button button_translucent">
          CLOUD-SCHEDULER
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://hrv2k.github.io/tags/build-triggers/' class="post_tag button button_translucent">
          BUILD-TRIGGERS
          <span class="button_tally">1</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">All Tags</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://hrv2k.github.io/tags/build-triggers/' class=" post_tag button button_translucent" data-position=1>BUILD-TRIGGERS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/ci/cd/' class=" post_tag button button_translucent" data-position=1>CI/CD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud/' class=" post_tag button button_translucent" data-position=1>CLOUD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-bigtable/' class=" post_tag button button_translucent" data-position=1>CLOUD-BIGTABLE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-build/' class=" post_tag button button_translucent" data-position=3>CLOUD-BUILD<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-computing/' class=" post_tag button button_translucent" data-position=9>CLOUD-COMPUTING<span class="button_tally">9</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-functions/' class=" post_tag button button_translucent" data-position=2>CLOUD-FUNCTIONS<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-kms/' class=" post_tag button button_translucent" data-position=1>CLOUD-KMS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-run/' class=" post_tag button button_translucent" data-position=3>CLOUD-RUN<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-scheduler/' class=" post_tag button button_translucent" data-position=2>CLOUD-SCHEDULER<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-spanner/' class=" post_tag button button_translucent" data-position=1>CLOUD-SPANNER<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/cloud-sql/' class=" post_tag button button_translucent" data-position=1>CLOUD-SQL<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/computing/' class=" post_tag button button_translucent" data-position=1>COMPUTING<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/custom-domain/' class=" post_tag button button_translucent" data-position=1>CUSTOM-DOMAIN<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/database-migration/' class=" post_tag button button_translucent" data-position=1>DATABASE-MIGRATION<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/deployment-manager/' class=" post_tag button button_translucent" data-position=1>DEPLOYMENT-MANAGER<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/encryption/' class=" post_tag button button_translucent" data-position=1>ENCRYPTION<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/gcp/' class=" post_tag button button_translucent" data-position=10>GCP<span class="button_tally">10</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/github/' class=" post_tag button button_translucent" data-position=1>GITHUB<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/iac/' class=" post_tag button button_translucent" data-position=1>IAC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/ibm-cloud/' class=" post_tag button button_translucent" data-position=1>IBM-CLOUD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/manage-instance-groups/' class=" post_tag button button_translucent" data-position=1>MANAGE-INSTANCE-GROUPS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://hrv2k.github.io/tags/mysql/' class=" post_tag button button_translucent" data-position=1>MYSQL<span class="button_tally">1</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
  </section>
</aside>

</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/> 
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="arrow">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
</svg>

<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://hrv2k.github.io/images/logo.png' class="icon icon_2 transparent">
    <p>Copyright 2020-<span class="year"></span> HERVÉ KAKIANG&#39;S BLOG. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <use xlink:href="#arrow"></use>
</svg>
</a>

  </div>
</footer>

    <script type="text/javascript" src="https://hrv2k.github.io/js/bundle.min.cee36fbca464500550f3fdcee62b033060ebedabbfffa7f2961d06529ac3ffcf3c8d107e04af65ae030ed0918354da56a88baeabce9d950f354680c9fb346dde.js" integrity="sha512-zuNvvKRkUAVQ8/3O5isDMGDr7au//6fylh0GUprD/888jRB&#43;BK9lrgMO0JGDVNpWqIuuq86dlQ81RoDJ&#43;zRt3g==" crossorigin="anonymous"></script>
    
  </body>
</html>
